<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>All-to-all traversal — allToAllTraverse • alcyon</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="All-to-all traversal — allToAllTraverse"><meta name="description" content="Runs all-to-all traversal on a map with a graph. This is applicable to:
PointMaps (Visibility Graph Analysis)
Axial ShapeGraphs (Axial analysis)
Segment ShapeGraphs (Segment analysis)

"><meta property="og:description" content="Runs all-to-all traversal on a map with a graph. This is applicable to:
PointMaps (Visibility Graph Analysis)
Axial ShapeGraphs (Axial analysis)
Segment ShapeGraphs (Segment analysis)

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">alcyon</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/agentAnalysis.html">Agent Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/axialAnalysis.html">Axial Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/isovists.html">Isovists</a></li>
    <li><a class="dropdown-item" href="../articles/segmentAnalysis.html">Segment Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/vga.html">Visibility Graph Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/spatialnous/alcyon/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>All-to-all traversal</h1>
      <small class="dont-index">Source: <a href="https://github.com/spatialnous/alcyon/blob/main/R/allToAllTraverse.R" class="external-link"><code>R/allToAllTraverse.R</code></a></small>
      <div class="d-none name"><code>allToAllTraverse.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Runs all-to-all traversal on a map with a graph. This is applicable to:</p><ul><li><p>PointMaps (Visibility Graph Analysis)</p></li>
<li><p>Axial ShapeGraphs (Axial analysis)</p></li>
<li><p>Segment ShapeGraphs (Segment analysis)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">allToAllTraverse</span><span class="op">(</span></span>
<span>  <span class="va">map</span>,</span>
<span>  <span class="va">traversalType</span>,</span>
<span>  <span class="va">radii</span>,</span>
<span>  <span class="va">radiusTraversalType</span>,</span>
<span>  weightByAttribute <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includeBetweenness <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quantizationWidth <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  gatesOnly <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nthreads <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  copyMap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-map">map<a class="anchor" aria-label="anchor" href="#arg-map"></a></dt>
<dd><p>A PointMap, Axial ShapeGraph or Segment ShapeGraph</p></dd>


<dt id="arg-traversaltype">traversalType<a class="anchor" aria-label="anchor" href="#arg-traversaltype"></a></dt>
<dd><p>The traversal type. See <a href="TraversalType.html">TraversalType</a></p></dd>


<dt id="arg-radii">radii<a class="anchor" aria-label="anchor" href="#arg-radii"></a></dt>
<dd><p>A list of radii</p></dd>


<dt id="arg-radiustraversaltype">radiusTraversalType<a class="anchor" aria-label="anchor" href="#arg-radiustraversaltype"></a></dt>
<dd><p>The traversal type to keep track of whether the
analysis is within the each radius limit. See <a href="TraversalType.html">TraversalType</a></p></dd>


<dt id="arg-weightbyattribute">weightByAttribute<a class="anchor" aria-label="anchor" href="#arg-weightbyattribute"></a></dt>
<dd><p>The attribute to weigh the analysis with</p></dd>


<dt id="arg-includebetweenness">includeBetweenness<a class="anchor" aria-label="anchor" href="#arg-includebetweenness"></a></dt>
<dd><p>Set to TRUE to also calculate betweenness (known as
Choice in the Space Syntax domain)</p></dd>


<dt id="arg-quantizationwidth">quantizationWidth<a class="anchor" aria-label="anchor" href="#arg-quantizationwidth"></a></dt>
<dd><p>Set this to use chunks of this width instead of
continuous values for the cost of traversal. This is equivalent to the "tulip
bins" for depthmapX's tulip analysis (1024 tulip bins = pi/1024
quantizationWidth). Only works for Segment ShapeGraphs</p></dd>


<dt id="arg-gatesonly">gatesOnly<a class="anchor" aria-label="anchor" href="#arg-gatesonly"></a></dt>
<dd><p>Optional. Only calculate results at particular gate pixels.
Only works for PointMaps</p></dd>


<dt id="arg-nthreads">nthreads<a class="anchor" aria-label="anchor" href="#arg-nthreads"></a></dt>
<dd><p>Optional. Use more than one threads. 1 by default, set to 0
to use all available. Only available for PointMaps.</p></dd>


<dt id="arg-copymap">copyMap<a class="anchor" aria-label="anchor" href="#arg-copymap"></a></dt>
<dd><p>Optional. Copy the internal sala map</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Optional. Show more information of the process.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>Optional. Enable progress display</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A new map with the results included</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Pointmap analysis (VGA)</span></span></span>
<span class="r-in"><span><span class="va">mifFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"extdata"</span>, <span class="st">"testdata"</span>, <span class="st">"simple"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"simple_interior.mif"</span>,</span></span>
<span class="r-in"><span>    package <span class="op">=</span> <span class="st">"alcyon"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">sfMap</span> <span class="op">&lt;-</span> <span class="fu">st_read</span><span class="op">(</span><span class="va">mifFile</span>,</span></span>
<span class="r-in"><span>    geometry_column <span class="op">=</span> <span class="fl">1L</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">pointMap</span> <span class="op">&lt;-</span> <span class="fu"><a href="makeVGAPointMap.html">makeVGAPointMap</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">sfMap</span>,</span></span>
<span class="r-in"><span>    gridSize <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>    fillX <span class="op">=</span> <span class="fl">3.0</span>,</span></span>
<span class="r-in"><span>    fillY <span class="op">=</span> <span class="fl">6.0</span>,</span></span>
<span class="r-in"><span>    maxVisibility <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>    boundaryGraph <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">allToAllTraverse</span><span class="op">(</span><span class="va">pointMap</span>,</span></span>
<span class="r-in"><span>  traversalType <span class="op">=</span> <span class="va">TraversalType</span><span class="op">$</span><span class="va">Angular</span>,</span></span>
<span class="r-in"><span>  radii <span class="op">=</span> <span class="op">-</span><span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  radiusTraversalType <span class="op">=</span> <span class="va">TraversalType</span><span class="op">$</span><span class="va">None</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stars object with 2 dimensions and 10 attributes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attribute(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                              Min.      1st Qu.       Median         Mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ref                  0.000000e+00 1.966108e+05 3.932215e+05 3.932215e+05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Connectivity         3.900000e+01 6.500000e+01 7.500000e+01 7.106667e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Point First Moment   9.203807e+01 1.451355e+02 1.732670e+02 1.750389e+02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Point Second Moment  2.400000e+02 3.885625e+02 5.315000e+02 5.387111e+02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> blocked              0.000000e+00 0.000000e+00 0.000000e+00 3.205128e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> contextfilled        0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> filled               0.000000e+00 0.000000e+00 1.000000e+00 5.769231e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Angular Mean Depth   1.546766e-03 2.146721e-02 6.614886e-02 1.193368e-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Angular Node Count   9.000000e+01 9.000000e+01 9.000000e+01 9.000000e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Angular Total Depth  1.392090e-01 1.932049e+00 5.953397e+00 1.074031e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                           3rd Qu.         Max. NA's</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ref                  5.898322e+05 7.864430e+05    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Connectivity         8.100000e+01 8.800000e+01   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Point First Moment   2.021131e+02 2.921885e+02   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Point Second Moment  6.655625e+02 1.157750e+03   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> blocked              1.000000e+00 1.000000e+00    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> contextfilled        0.000000e+00 0.000000e+00    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> filled               1.000000e+00 1.000000e+00    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Angular Mean Depth   1.826283e-01 4.806018e-01   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Angular Node Count   9.000000e+01 9.000000e+01   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Angular Total Depth  1.643655e+01 4.325416e+01   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dimension(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   from to offset delta x/y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x    1 13   1.75   0.5 [x]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y    1 12   7.25  -0.5 [y]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Axial analysis</span></span></span>
<span class="r-in"><span><span class="va">mifFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"extdata"</span>, <span class="st">"testdata"</span>, <span class="st">"barnsbury"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"barnsbury_small_axial_original.mif"</span>,</span></span>
<span class="r-in"><span>    package <span class="op">=</span> <span class="st">"alcyon"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">sfMap</span> <span class="op">&lt;-</span> <span class="fu">st_read</span><span class="op">(</span><span class="va">mifFile</span>,</span></span>
<span class="r-in"><span>    geometry_column <span class="op">=</span> <span class="fl">1L</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">shapeGraph</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.html">as</a></span><span class="op">(</span><span class="va">sfMap</span>, <span class="st">"AxialShapeGraph"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">allToAllTraverse</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">shapeGraph</span>,</span></span>
<span class="r-in"><span>  traversalType <span class="op">=</span> <span class="va">TraversalType</span><span class="op">$</span><span class="va">Topological</span>,</span></span>
<span class="r-in"><span>  radii <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  includeBetweenness <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 58 features and 28 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: LINESTRING</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 946 ymin: -2177 xmax: 1537 ymax: -1386</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRS:           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Depthmap_Ref Connectivity Data_Map_Ref Line_Length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             0            6            0    396.1881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             1            7            1    259.4803</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             2            7            2    244.4770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             3            8            3    210.3450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             4            4            4    375.4797</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             5            8            5    145.4648</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7             6            6            6    596.2349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8             7            6            7    205.1829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9             8            7            8    385.0117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10            9           10            9    273.1483</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          geometry Data Map Ref Line Length Choice Choice R3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  LINESTRING (984 -1684, 1346...            0    396.1881    205        86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  LINESTRING (1306 -1497, 137...            1    259.4803    279        82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  LINESTRING (1257 -1772, 149...            2    244.4770    328       128</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  LINESTRING (1200 -1581, 127...            3    210.3450    493       191</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  LINESTRING (1174 -1684, 153...            4    375.4797    118        24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  LINESTRING (1223 -1898, 126...            5    145.4648    502       216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  LINESTRING (946 -1386, 1032...            6    596.2349    202        78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  LINESTRING (1350 -1896, 137...            7    205.1828    591       160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  LINESTRING (1117 -1979, 112...            8    385.0117    342       144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 LINESTRING (988 -1876, 1261...            9    273.1483    647       248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Choice [Norm] Choice [Norm] R3  Entropy Entropy R3 Harmonic Mean Depth</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0.12844612       0.09523810 1.966392   1.431980            5.170979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0.17481203       0.06972789 1.813029   1.435994           16.434782</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     0.20551379       0.12367149 1.872506   1.452452           17.749153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     0.30889726       0.14404224 1.758874   1.463609           14.419703</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     0.07393484       0.05161290 1.937888   1.321543            8.701672</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     0.31453633       0.16289593 1.731490   1.433642           14.256503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     0.12656641       0.07536232 1.934941   1.426639            5.121012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     0.37030074       0.11611030 1.658470   1.394359           11.949306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     0.21428572       0.13913043 1.955858   1.452452            5.196212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    0.40538847       0.18702866 1.864475   1.511067            4.842767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Harmonic Mean Depth R3 Integration [HH] Integration [HH] R3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               14.451612         1.917543            2.246524</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2               16.661158         2.151909            2.375361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3               16.185471         2.060338            2.350789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4               18.510180         2.361852            2.543419</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                9.353847         1.524975            1.762609</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6               18.110973         2.548314            2.793591</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7               14.985915         2.082493            2.430477</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8               15.865385         2.391010            2.536365</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9               16.185471         2.151909            2.560681</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10              20.465117         2.482972            2.748533</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Integration [P-value] Integration [P-value] R3 Integration [Tekl]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               1.917543                 2.246524          0.7220190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2               2.151909                 2.375361          0.7405212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3               2.060338                 2.350789          0.7334335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4               2.361852                 2.543419          0.7561645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5               1.524975                 1.762609          0.6878769</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6               2.548314                 2.793591          0.7694319</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7               2.082493                 2.430477          0.7351641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8               2.391010                 2.536365          0.7582758</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9               2.151909                 2.560681          0.7405212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10              2.482972                 2.748533          0.7648444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Integration [Tekl] R3 Intensity Intensity R3 Mean Depth Mean Depth R3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              0.7498006 1.1405076     1.105388   2.771930      2.348837</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              0.7585479 1.1815245     1.104611   2.578947      2.346939</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3              0.7573853 1.1677991     1.137754   2.649123      2.326087</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4              0.7702533 1.2594405     1.175322   2.438596      2.288461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5              0.7073136 0.8920435     0.939764   3.228070      2.483871</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6              0.7878321 1.3390193     1.266384   2.333333      2.173077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7              0.7635773 1.2198540     1.156069   2.631579      2.282609</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8              0.7694886 1.2023906     1.107285   2.421053      2.301887</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9              0.7734766 1.2746043     1.241186   2.578947      2.217391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             0.7847281 1.4044101     1.312894   2.368421      2.192308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Node Count Node Count R3 Relativised Entropy Relativised Entropy R3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          58            44            1.760874               1.853100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          58            50            1.734981               1.858356</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          58            47            1.748742               1.822981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          58            53            1.662805               1.783778</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          58            32            2.097106               2.047915</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          58            53            1.593437               1.692109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          58            47            1.676330               1.793509</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          58            54            1.720402               1.844227</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9          58            47            1.626325               1.712716</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10         58            53            1.526621               1.657888</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Segment analysis</span></span></span>
<span class="r-in"><span><span class="va">mifFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"extdata"</span>, <span class="st">"testdata"</span>, <span class="st">"barnsbury"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"barnsbury_small_segment_original.mif"</span>,</span></span>
<span class="r-in"><span>    package <span class="op">=</span> <span class="st">"alcyon"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">sfMap</span> <span class="op">&lt;-</span> <span class="fu">st_read</span><span class="op">(</span><span class="va">mifFile</span>,</span></span>
<span class="r-in"><span>    geometry_column <span class="op">=</span> <span class="fl">1L</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">shapeGraph</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.html">as</a></span><span class="op">(</span><span class="va">sfMap</span>, <span class="st">"SegmentShapeGraph"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">allToAllTraverse</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">shapeGraph</span>,</span></span>
<span class="r-in"><span>  radii <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"100"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  radiusTraversalType <span class="op">=</span> <span class="va">TraversalType</span><span class="op">$</span><span class="va">Metric</span>,</span></span>
<span class="r-in"><span>  traversalType <span class="op">=</span> <span class="va">TraversalType</span><span class="op">$</span><span class="va">Angular</span>,</span></span>
<span class="r-in"><span>  weightByAttribute <span class="op">=</span> <span class="st">"Segment Length"</span>,</span></span>
<span class="r-in"><span>  includeBetweenness <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  quantizationWidth <span class="op">=</span> <span class="va">pi</span> <span class="op">/</span> <span class="fl">1024L</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  progress <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 173 features and 26 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: LINESTRING</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 989.1063 ymin: -2040.514 xmax: 1377.667 ymax: -1535.739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRS:           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Depthmap_Ref Angular_Connectivity Axial_Line_Ref Connectivity Data_Map_Ref</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             0             1.981438             -1            3            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             1             2.115670             -1            4            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             2             1.775849             -1            4            2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             3             2.034886             -1            4            3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             4             2.002752             -1            3            4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             5             2.052529             -1            3            5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7             6             2.049290             -1            4            6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8             7             2.035002             -1            4            7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9             8             2.948040             -1            5            8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10            9             4.000000             -1            6            9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Segment_Length                       geometry Angular Connectivity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       65.799698 LINESTRING (989.1063 -1681....             1.981438</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       77.203362 LINESTRING (1049.228 -1654....             2.115669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       90.154808 LINESTRING (1119.769 -1623....             1.775849</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       91.088219 LINESTRING (1202.144 -1586....             2.034886</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       35.005592 LINESTRING (1285.372 -1549....             2.002752</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       69.541687 LINESTRING (1317.357 -1535....             2.052529</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       37.176987 LINESTRING (1336.921 -1602....             2.049290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       35.278736 LINESTRING (1347.381 -1638....             2.035002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       34.014023 LINESTRING (1357.306 -1672....             2.948040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       9.775865 LINESTRING (1366.875 -1704....             4.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Axial Line Ref Data Map Ref Segment Length T1024 Choice</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              -1            0      65.799698          203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              -1            1      77.203362          484</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3              -1            2      90.154808         1406</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4              -1            3      91.088219          674</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5              -1            4      35.005592          497</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6              -1            5      69.541687          526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7              -1            6      37.176987          767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8              -1            7      35.278736         1348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9              -1            8      34.014023         2059</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             -1            9       9.775865         3136</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Choice R100.00 metric T1024 Choice [Segment Length Wgt]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                            2                          659726.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                            0                          997757.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                            0                         2753404.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                            0                         1370659.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                            2                          910519.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                            0                          974137.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                            2                         1566921.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                            7                         2342901.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                           18                         3151169.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                          19                         3774213.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Choice [Segment Length Wgt] R100.00 metric T1024 Integration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                          23681.04          87.44378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                          16837.18          88.57600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                          23477.67          90.19110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                                          20490.54          91.37754</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                          12713.72          91.42333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                          18764.73         106.23274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                          19753.70         106.20918</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                          19874.78         106.32710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                          25365.45         106.71213</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                                         32525.98         107.06703</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Integration R100.00 metric T1024 Integration [Segment Length Wgt]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                          9.230036                               3224.680</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                         11.808656                               3262.657</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                         12.764543                               3379.409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                         12.047059                               3426.279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                          7.984406                               3428.560</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                          8.870068                               3696.910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                         15.463087                               3693.893</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                         23.844761                               3697.772</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                         23.322910                               3714.063</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                        21.867201                               3726.309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Integration [Segment Length Wgt] R100.00 metric T1024 Node Count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                               396.2036              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                              1144.3008              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                              1431.5309              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                                               995.1865              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                               494.8211              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                               485.0021              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                               711.6516              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                               912.5288              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                               836.5922              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                                              819.1635              173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Node Count R100.00 metric T1024 Total Depth</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                               11          342.2656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                9          337.8906</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                6          331.8398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                                6          327.5312</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                4          327.3672</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                6          281.7305</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                9          281.7930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                               12          281.4805</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                               13          280.4648</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                              16          279.5352</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Total Depth R100.00 metric T1024 Total Depth [Segment Length Wgt]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                         13.109375                              10672.612</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                          6.859375                              10548.384</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                          2.820312                              10183.959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                          2.988281                              10044.646</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                          2.003906                              10037.964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                          4.058594                               9309.332</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                          5.238281                               9316.935</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                          6.039062                               9307.161</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                          7.246094                               9266.337</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                        11.707031                               9235.884</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Total Depth [Segment Length Wgt] R100.00 metric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                              424.32428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                               91.94441</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                               85.85162</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                                              100.36493</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                              112.90747</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                              237.47540</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                              274.22757</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                              284.32355</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                              322.21109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                                             440.65012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    T1024 Total Segment Length T1024 Total Segment Length R100.00 metric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                    5866.495                                  410.0229</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                    5866.495                                  324.3641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                    5866.495                                  350.5699</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                    5866.495                                  316.0409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                    5866.495                                  236.3662</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                    5866.495                                  339.3760</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                    5866.495                                  441.7629</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                    5866.495                                  509.3657</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                    5866.495                                  519.1910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                   5866.495                                  600.8032</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Petros Koutsolampros.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

